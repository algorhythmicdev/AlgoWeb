@import './theme-tokens.css';

body {
  background-color: var(--bg);
  color: var(--text);
  transition: background-color var(--theme-dur) var(--theme-ease), color var(--theme-dur) var(--theme-ease);
  background: var(--bg);
}

@supports (background-color: color-mix(in srgb, white, transparent)) {
  body {
    background-color: color-mix(in srgb, var(--bg) 78%, transparent);
  }
}

html[data-theme='hc'] body,
html[data-theme='hc'] body::after {
  background-color: var(--bg);
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -3;
  pointer-events: none;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"><filter id="f" x="0" y="0" width="100%" height="100%"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23f)"/></svg>');
  opacity: 0.025;
}

:root, html, body, .themed {
  transition:
    color var(--theme-dur) var(--theme-ease),
    background-color var(--theme-dur) var(--theme-ease),
    border-color var(--theme-dur) var(--theme-ease),
    outline-color var(--theme-dur) var(--theme-ease),
    box-shadow var(--theme-dur) var(--theme-ease);
}

/* Accessibility: reduce non-essential animations */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition: none !important;
  }
}