/* Global animations, typography, and base styles */
:root {
  --glass-card-radius: clamp(0rem, 0.35vw, 0.2rem);
  --surface-glass-bg: color-mix(in srgb, var(--glass-bg-lightest) 58%, transparent 42%);
  --surface-glass-border: color-mix(in srgb, var(--glass-border) 60%, transparent 40%);
  --surface-glass-shadow: 0 16px 44px rgba(var(--ink-rgb), 0.12);
  --surface-chip-bg: color-mix(in srgb, var(--glass-bg-light) 86%, transparent 14%);
  --surface-chip-border: var(--glass-border-light);
  --surface-chip-shadow: var(--shadow-sm);
  --surface-chip-color: var(--text-secondary);
  --surface-chip-hc-bg: transparent;
  --surface-chip-hc-border: currentColor;
  --surface-chip-hc-shadow: none;
  --surface-chip-hc-color: var(--text);
  --surface-pill-bg: color-mix(in srgb, var(--glass-bg-lighter) 86%, transparent 14%);
  --surface-pill-border: var(--glass-border-light);
  --surface-pill-shadow: var(--shadow-md);
  --surface-pill-hc-bg: transparent;
  --surface-pill-hc-border: currentColor;
  --surface-pill-hc-shadow: none;
  --surface-pill-hc-color: var(--text);
  --surface-field-bg: color-mix(in srgb, var(--glass-bg-light) 84%, transparent 16%);
  --surface-field-border: color-mix(in srgb, var(--glass-border) 70%, rgba(var(--aurora-purple-rgb), 0.2) 30%);
  --surface-field-border-strong: color-mix(in srgb, var(--glass-border-strong) 68%, rgba(var(--voyage-blue-rgb), 0.28) 32%);
  --surface-field-hc-bg: var(--bg);
  --surface-field-hc-border: currentColor;
  --surface-panel-bg: color-mix(in srgb, var(--glass-bg-light) 56%, transparent 44%);
  --surface-panel-border: color-mix(in srgb, var(--glass-border) 58%, rgba(var(--voyage-blue-rgb), 0.18) 42%);
  --surface-panel-shadow: 0 14px 40px rgba(var(--ink-rgb), 0.12);
  --surface-panel-hc-bg: var(--bg);
  --surface-panel-hc-border: currentColor;
  --surface-panel-hc-shadow: none;
  --surface-panel-hc-color: var(--text);
  --surface-glass-blur: blur(var(--glass-blur));
}

body {
  background: var(--backdrop-canvas, var(--bg));
  color: var(--text);
  transition:
    background-color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1)),
    color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1));
}

@supports (background-color: color-mix(in srgb, white, transparent)) {
  body {
    background-color: color-mix(in srgb, var(--bg) 78%, transparent);
  }
}

html[data-theme='hc'] body,
html[data-theme='hc'] body::after {
  background-color: var(--bg);
}

body.page-services {
  --accent-primary: var(--nodevoyage-accent);
  --accent-secondary: var(--nodevoyage-highlight);
}



body.page-outreach {
  --accent-primary: var(--aurora);
  --accent-secondary: var(--signal);
}

body.page-about {
  --accent-primary: var(--aurora);
  --accent-secondary: var(--voyage);
}

body.page-resources {
  --accent-primary: var(--voyage);
  --accent-secondary: var(--signal);
}

body.page-contact {
  --accent-primary: var(--aurora);
  --accent-secondary: var(--signal);
}

:root,
html,
body,
.themed {
  transition:
    color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1)),
    background-color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1)),
    border-color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1)),
    outline-color var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1)),
    box-shadow var(--theme-dur, 0.55s) var(--theme-ease, cubic-bezier(0.2, 0.7, 0.2, 1));
}

html.nav-menu-open {
  overflow: hidden;
}

.section {
  position: relative;
  padding-block: var(
    --section-padding,
    clamp(var(--section-padding-tablet, 5rem), 7vw, var(--section-padding-desktop, 8rem))
  );
  background: transparent;
  color: var(--text);
  isolation: isolate;
  overflow: visible;
}

.section::before {
  display: none;
}

.section > .container {
  position: relative;
  z-index: var(--z-content);
  width: min(100%, var(--section-container-width, var(--container-xl, 1200px)));
  margin-inline: auto;
  padding-inline: clamp(1.75rem, 5vw, 3.25rem);
  display: grid;
  gap: clamp(2rem, 4.75vw, 2.75rem);
}

.media-card {
  display: grid;
  gap: clamp(0.75rem, 2vw, 1.25rem);
}

.media-card__image {
  width: 100%;
  height: auto;
  border-radius: max(0px, calc(var(--glass-card-radius) - 0.1rem));
  box-shadow: 0 16px 36px rgba(var(--ink-rgb, 14, 22, 38), 0.14);
  border: 1px solid color-mix(in srgb, var(--glass-border-light) 56%, transparent 44%);
  background: color-mix(in srgb, var(--bg-elev-1) 68%, transparent 32%);
}

.media-card__caption {
  font-size: clamp(0.85rem, 1vw, 0.95rem);
  line-height: 1.5;
  color: var(--text-secondary);
}

.hero-media {
  display: grid;
  gap: clamp(1rem, 3vw, 1.5rem);
  align-content: start;
}

.hero-media .media-card__image {
  border-radius: max(0px, calc(var(--glass-card-radius) - 0.15rem));
}

.section > .container > *:first-child {
  margin-top: 0;
}

.section > .container > *:last-child {
  margin-bottom: 0;
}

:where(a, button, input, textarea, select, summary, [role='button'], [role='link']) {
  outline: none;
  transition:
    outline-color var(--duration-ui, 220ms) var(--ease-out, cubic-bezier(0.22, 1, 0.36, 1)),
    outline-offset var(--duration-ui, 220ms) var(--ease-out, cubic-bezier(0.22, 1, 0.36, 1)),
    box-shadow var(--duration-ui, 220ms) var(--ease-out, cubic-bezier(0.22, 1, 0.36, 1));
}

:where(a, button, input, textarea, select, summary, [role='button'], [role='link']):focus,
:where(a, button, input, textarea, select, summary, [role='button'], [role='link']):focus-visible {
  outline: var(
    --focus-ring,
    2px solid var(
      --focus-ring-color,
      color-mix(in srgb, var(--voyage-blue) 70%, var(--snow) 30%)
    )
  );
  outline-offset: var(--focus-ring-offset, 3px);
  box-shadow: var(
    --focus-ring-shadow,
    0 0 0 2px color-mix(in srgb, rgba(var(--voyage-blue-rgb), 0.28) 70%, transparent 30%)
  );
}

/* Gradient bar animation */
@keyframes bar-pan {
  from { background-position: 0% 50%; }
  to   { background-position: 100% 50%; }
}

/* Hero variant animations */
@keyframes halo-move { 
  from { transform: translateY(-5%); } 
  to { transform: translateY(5%); } 
}

@keyframes grid-ripple { 
  from { transform: scale(1); } 
  to { transform: scale(1.05); } 
}

@keyframes sweep { 
  to { transform: rotate(1turn); } 
}

@keyframes drift {
  from { transform: translateY(-1%); }
  to { transform: translateY(1%); }
}

.heading {
  position: relative;
  display: inline-block;
  font-weight: var(--weight-black, 800);
  font-size: clamp(2rem, 5vw, 4rem);
  line-height: 1.05;
  color: var(--text);
  padding-bottom: 0.1em;
  z-index: 0;
}

.heading::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 0.3em;
  background: linear-gradient(var(--grad-angle), var(--grad-a), var(--grad-b));
  animation: bar-pan var(--bar-speed, 16s) ease-in-out infinite alternate;
  z-index: -1;
}

@media (prefers-reduced-motion: reduce),
       (prefers-contrast: more) {
  .heading::after {
    animation: none;
  }
}

/* Accessibility: reduce non-essential animations */
@media (prefers-reduced-motion: reduce){
  * { 
    animation-duration:.001ms !important; 
    animation-iteration-count:1 !important; 
    transition:none !important; 
  }
}

.surface-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 1rem;
  border-radius: var(--radius-full);
  border: 1px solid var(--surface-chip-border);
  background: var(--surface-chip-bg);
  box-shadow: var(--surface-chip-shadow);
  color: var(--surface-chip-color, var(--text-tertiary));
  font-size: var(--text-small);
  font-weight: var(--weight-semibold);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  backdrop-filter: blur(18px) saturate(1.05);
  -webkit-backdrop-filter: blur(18px) saturate(1.05);
}

.surface-chip[data-tone='accent'] {
  color: color-mix(in srgb, var(--voyage-blue) 68%, var(--text) 32%);
  border-color: color-mix(in srgb, rgba(var(--voyage-blue-rgb), 0.46) 70%, rgba(255, 255, 255, 0.4) 30%);
  background: color-mix(in srgb, var(--surface-chip-bg) 78%, rgba(var(--voyage-blue-rgb), 0.16) 22%);
}

.surface-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  padding: 0.75rem 1.6rem;
  border-radius: clamp(2.4rem, 5vw, 3.4rem);
  border: 1px solid var(--surface-pill-border);
  background: var(--surface-pill-bg);
  box-shadow: var(--surface-pill-shadow);
  backdrop-filter: blur(20px) saturate(1.12);
  -webkit-backdrop-filter: blur(20px) saturate(1.12);
}

.surface-pill[data-tone='accent'] {
  background: color-mix(in srgb, var(--surface-pill-bg) 72%, rgba(var(--aurora-purple-rgb), 0.2) 28%);
  border-color: color-mix(in srgb, rgba(var(--aurora-purple-rgb), 0.42) 65%, rgba(255, 255, 255, 0.38) 35%);
}

.surface-field {
  width: 100%;
  padding: clamp(1rem, 2.4vw, 1.35rem);
  border-radius: var(--radius-xl);
  border: 1px solid var(--surface-field-border);
  background: var(--surface-field-bg);
  color: var(--surface-field-color, var(--text));
  font: inherit;
  transition: border-color var(--duration-fast, 180ms) var(--ease-out, cubic-bezier(0.22, 0.61, 0.36, 1));
}

.surface-field::placeholder {
  color: color-mix(in srgb, var(--text-secondary) 74%, transparent 26%);
}

.surface-field:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--grad-a) 60%, var(--grad-b) 40%);
  outline-offset: 2px;
  border-color: var(--surface-field-border-strong);
}

.surface-field:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.surface-field.error {
  border-color: color-mix(in srgb, var(--cherry-pop) 68%, rgba(var(--cherry-pop-rgb), 0.4) 32%);
}

.surface-panel {
  position: relative;
  display: block;
  padding: clamp(0.9rem, 2.2vw, 1.35rem);
  border-radius: var(--radius-xl);
  border: 1px solid var(--surface-panel-border);
  background: var(--surface-panel-bg);
  box-shadow: var(--surface-panel-shadow);
  backdrop-filter: blur(20px) saturate(1.08);
  -webkit-backdrop-filter: blur(20px) saturate(1.08);
}

.surface-panel[data-tone='accent'] {
  background: color-mix(in srgb, var(--surface-panel-bg) 72%, rgba(var(--aurora-purple-rgb), 0.24) 28%);
  border-color: color-mix(in srgb, rgba(var(--aurora-purple-rgb), 0.4) 62%, rgba(255, 255, 255, 0.34) 38%);
}

html[data-theme='hc'] .surface-chip {
  background: var(--surface-chip-hc-bg, transparent);
  border-color: var(--surface-chip-hc-border, currentColor);
  box-shadow: var(--surface-chip-hc-shadow, none);
  color: var(--surface-chip-hc-color, var(--text));
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

html[data-theme='hc'] .surface-pill {
  background: var(--surface-pill-hc-bg, transparent);
  border-color: var(--surface-pill-hc-border, currentColor);
  box-shadow: var(--surface-pill-hc-shadow, none);
  color: var(--surface-pill-hc-color, var(--text));
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

html[data-theme='hc'] .surface-field {
  background: var(--surface-field-hc-bg, var(--bg));
  border-color: var(--surface-field-hc-border, currentColor);
  box-shadow: none;
  color: var(--surface-field-color, var(--text));
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

html[data-theme='hc'] .surface-panel {
  background: var(--surface-panel-hc-bg, transparent);
  border-color: var(--surface-panel-hc-border, currentColor);
  box-shadow: var(--surface-panel-hc-shadow, none);
  color: var(--surface-panel-hc-color, var(--text));
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

@media (prefers-reduced-motion: reduce) {
  .surface-chip,
  .surface-pill,
  .surface-field,
  .surface-panel {
    transition: none;
  }
}

